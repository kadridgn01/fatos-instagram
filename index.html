<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Akƒ±≈ü ‚Äî Ana Sayfa D√ºzeltildi</title>

<style>
:root{
  --bg:#0f1115; --paper:#12151c; --ink:#e7e9ee; --muted:#9aa3af;
  --accent:#5da9ff; --border:#1f2330; --soft:#181c25; --radius:14px;
  --maxw:600px; --topbar-h:64px;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);
  font:15px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",sans-serif}
a{color:var(--accent);text-decoration:none}
body{
  padding-top: calc(var(--topbar-h) + env(safe-area-inset-top));
  padding-bottom: calc(90px + env(safe-area-inset-bottom));
}
.page{ display: none; }
.page.active{ display: block; }
.topbar{ position:fixed; inset:0 0 auto 0; z-index:50;
  height: calc(var(--topbar-h) + env(safe-area-inset-top));
  padding-top: env(safe-area-inset-top);
  background:#0e121b; border-bottom:1px solid var(--border);
  display:flex; align-items:flex-end; }
.row{max-width:var(--maxw); height:var(--topbar-h); margin:0 auto; width:100%;
  display:flex; align-items:center; justify-content:space-between; padding:0 16px;}
.brand{display:flex; align-items:center; gap:10px; font-weight:800; font-size:20px;}
.logo{height:28px}
.stories{ max-width:var(--maxw); margin:0 auto; padding:10px 12px;
  display:flex; gap:12px; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
.stories::-webkit-scrollbar{display:none}
.story-chip{ flex:0 0 auto; width:74px; text-align:center; font-size:12px; color:var(--muted);
  background:transparent; border:0; padding:0; outline:none; cursor:pointer; }
.story-chip:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
.story-ring{ width:68px; height:68px; padding:2px; border-radius:50%;
  background: conic-gradient(from 0deg, #6ab0ff, #a873ff, #6ab0ff); display:grid; place-items:center; }
.story-chip.me .story-ring{ background: linear-gradient(180deg,#3e455a,#3e455a); }
.story-avatar{ width:64px; height:64px; border-radius:50%; object-fit:cover; border:0; }
.story-name{margin-top:6px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.feed{max-width:var(--maxw); margin:0 auto; padding:0 12px 16px; display:flex; flex-direction:column; gap:16px}
.card{background:var(--paper); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden}
.card .head{display:flex; align-items:center; gap:10px; padding:10px}
.card .head img{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid var(--soft)}
.card .head .user{font-weight:600}
.card .head .time{margin-left:auto;color:var(--muted);font-size:12px}
.card .media{width:100%; max-height:420px; object-fit:cover; display:block}
.card .actions{display:flex; gap:10px; padding:10px 12px}
.icon{cursor:pointer; user-select:none; font-size:20px}
.search-page{ max-width: var(--maxw); margin: 0 auto; padding: 16px; }
.search-bar{ width: 100%; padding: 12px 16px; font-size: 16px; background-color: var(--soft);
  border: 1px solid var(--border); border-radius: var(--radius); color: var(--ink); outline: none; }
.search-bar:focus{ border-color: var(--accent); }
.search-results{ margin-top: 20px; display: flex; flex-direction: column; gap: 12px; }
.result-item{ display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 10px; cursor: pointer; }
.result-item:hover{ background-color: var(--soft); }
.result-item img{ width: 44px; height: 44px; border-radius: 50%; object-fit: cover; }
.result-item .names .name{ font-weight: 600; }
.result-item .names .username{ font-size: 13px; color: var(--muted); }
.profile-page{ max-width: var(--maxw); margin: 0 auto; padding: 16px; }
.profile-header{ display: flex; align-items: center; gap: 20px; padding-bottom: 20px; }
.profile-avatar{ width: 90px; height: 90px; border-radius: 50%; object-fit: cover; }
.profile-info{ flex: 1; }
.profile-info .username{ font-size: 20px; font-weight: 700; }
.profile-info .bio{ font-size: 14px; color: var(--muted); margin-top: 4px; }
.profile-stats{ display: flex; justify-content: space-around; text-align: center; margin-top: 16px; }
.stat-item{ font-size: 14px; }
.stat-item .count{ display: block; font-weight: 700; font-size: 16px; }
.post-grid{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
.grid-item img{ width: 100%; height: 100%; object-fit: cover; aspect-ratio: 1 / 1; }
.bottombar{ position:fixed; left:10px; right:10px; bottom: calc(env(safe-area-inset-bottom) + 8px);
  height:58px; background:var(--paper); border:1px solid var(--border); border-radius:14px;
  display:flex; justify-content:space-around; align-items:center; z-index:30;
  box-shadow: 0 10px 30px rgba(0,0,0,.35); }
.nav-item{cursor:pointer; display:flex; flex-direction:column; align-items:center; font-size:20px}
.nav-item span{font-size:12px; color:var(--muted); margin-top:2px}
.nav-item.active span{color:var(--ink); font-weight: 600;}
</style>
</head>
<body>

<div class="topbar">
  <div class="row">
    <div class="brand">
      <img src="assets/logo.png" class="logo" alt="logo">
      <span id="brandTitle">Akƒ±≈ü</span>
    </div>
  </div>
</div>

<main id="homePage" class="page"></main>
<main id="searchPage" class="page">
  <div class="search-page">
    <input type="search" class="search-bar" id="searchInput" placeholder="Fato≈ü Ma√ßari yazƒ±p ara...">
    <div class="search-results" id="searchResults"></div>
  </div>
</main>
<main id="profilePage" class="page">
  <div class="profile-page">
    <header class="profile-header">
      <img id="profileAvatar" src="" alt="Profil Fotoƒürafƒ±" class="profile-avatar">
      <div class="profile-info">
        <h2 id="profileUsername" class="username"></h2>
        <p id="profileBio" class="bio"></p>
        <div class="profile-stats" id="profileStats"></div>
      </div>
    </header>
    <div class="post-grid" id="postGrid"></div>
  </div>
</main>

<nav class="bottombar">
  <div class="nav-item" id="navHome">üè†<span>Ana Sayfa</span></div>
  <div class="nav-item" id="navSearch">üîç<span>Arama</span></div>
  <div class="nav-item" id="navProfile">üë§<span>Profil</span></div>
</nav>

<script>
// --- VERƒ∞LER ---
const STORIES = [
  { id:"me",  name:"Sen",  avatar:"assets/me.jpg",  segments:[] },
  { id:"u1",  name:"Peri", avatar:"assets/peri.jpg", segments:[ { sources:["assets/1_h264.mp4","assets/1.webm"], dur:8 } ] },
  { id:"u2",  name:"Selim", avatar:"assets/selim-av.jpg", segments:[] },
];
const FEED = [
  { user:"kadridgn",  avatar:"assets/kadri-av.jpg", img:"assets/kadri.jpg", time:"2s", likes:42 },
  { user:"okanerdemt", avatar:"assets/okan-av.jpg", img:"assets/okan.jpg", time:"1g",  likes:87 },
];
const USERS_DB = [
    {
        id: "fatosmacari",
        username: "fatosmacari",
        name: "Fato≈ü Ma√ßari",
        avatar: "assets/fatos-av.jpg",
        bio: "Gezgin ruh ‚úàÔ∏è | Kahve tutkunu ‚òï\nHayatƒ± dolu dolu ya≈üa ‚ú®",
        stats: { posts: 112, followers: "18.4B", following: 320 },
        posts: [
            { img: "assets/fatos-p1.jpg" }, { img: "assets/fatos-p2.jpg" }, { img: "assets/fatos-p3.jpg" },
            { img: "assets/fatos-p4.jpg" }, { img: "assets/fatos-p5.jpg" }, { img: "assets/fatos-p6.jpg" },
        ]
    },
    {
        id: "selimkaya",
        username: "selimkaya_art",
        name: "Selim Kaya",
        avatar: "assets/selim-av.jpg",
        bio: "Dijital Sanat√ßƒ± | Renklerin pe≈üinde",
        stats: { posts: 45, followers: "5.2B", following: 150 },
        posts: []
    }
];

// --- DOM ELEMENTLERƒ∞ ---
const brandTitle = document.getElementById('brandTitle');
const homePage = document.getElementById('homePage');
const searchPage = document.getElementById('searchPage');
const profilePage = document.getElementById('profilePage');
const navHome = document.getElementById('navHome');
const navSearch = document.getElementById('navSearch');
const navProfile = document.getElementById('navProfile');
const searchInput = document.getElementById('searchInput');
const searchResults = document.getElementById('searchResults');

// --- RENDER FONKSƒ∞YONLARI ---

// G√úNCELLENDƒ∞: Ana sayfayƒ± olu≈üturan fonksiyon d√ºzeltildi
function renderHomePage() {
    // 1. Ana sayfa konteynerinin i√ßini temizleyip temel iskeleti kur
    homePage.innerHTML = `<section class="stories"></section><section class="feed"></section>`;
    
    // 2. ƒ∞skelet i√ßindeki stories ve feed alanlarƒ±nƒ± se√ß
    const storiesContainer = homePage.querySelector('.stories');
    const feedContainer = homePage.querySelector('.feed');

    // 3. Hikayeleri olu≈ütur ve konteynere ekle
    STORIES.forEach(s => {
        const chip = document.createElement('button');
        chip.className = 'story-chip' + (s.id === 'me' ? ' me' : '');
        chip.innerHTML = `<div class="story-ring"><img class="story-avatar" src="${s.avatar}" alt="${s.name}"></div><div class="story-name">${s.name}</div>`;
        chip.onclick = () => { if (s.segments.length) alert('Hikaye izleyici bu demoda aktif deƒüil.'); else alert('Hikaye yok.'); };
        storiesContainer.appendChild(chip);
    });

    // 4. Akƒ±≈ü g√∂nderilerini olu≈ütur ve konteynere ekle
    FEED.forEach(p => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `<div class="head"><img src="${p.avatar}" alt="${p.user}"><div class="user">${p.user}</div><div class="time">${p.time}</div></div><img class="media" src="${p.img}" alt=""><div class="actions"><span class="icon like">‚ù§Ô∏è</span><span class="icon">üí¨</span><span class="icon">‚Üó</span></div>`;
        const likeBtn = card.querySelector('.like');
        likeBtn.onclick = () => { likeBtn.textContent = likeBtn.textContent === '‚ù§Ô∏è' ? 'üíñ' : '‚ù§Ô∏è'; };
        feedContainer.appendChild(card);
    });
}


function renderProfile(userId) {
    const user = USERS_DB.find(u => u.id === userId);
    if (!user) return;
    document.getElementById('profileAvatar').src = user.avatar;
    document.getElementById('profileUsername').textContent = user.username;
    document.getElementById('profileBio').textContent = user.bio;
    document.getElementById('profileStats').innerHTML = `
        <div class="stat-item"><span class="count">${user.stats.posts}</span> g√∂nderi</div>
        <div class="stat-item"><span class="count">${user.stats.followers}</span> takip√ßi</div>
        <div class="stat-item"><span class="count">${user.stats.following}</span> takip</div>`;
    const gridContainer = document.getElementById('postGrid');
    gridContainer.innerHTML = '';
    user.posts.forEach(post => {
        gridContainer.innerHTML += `<div class="grid-item"><img src="${post.img}" alt="Kullanƒ±cƒ± g√∂nderisi"></div>`;
    });
}

function renderSearchResults(query) {
    const normalizedQuery = query.toLowerCase().trim();
    if (normalizedQuery.length < 2) {
        searchResults.innerHTML = '';
        return;
    }
    const results = USERS_DB.filter(user => 
        user.name.toLowerCase().includes(normalizedQuery) ||
        user.username.toLowerCase().includes(normalizedQuery)
    );
    searchResults.innerHTML = '';
    results.forEach(user => {
        const item = document.createElement('div');
        item.className = 'result-item';
        item.innerHTML = `
            <img src="${user.avatar}" alt="${user.name}">
            <div class="names">
                <div class="name">${user.name}</div>
                <div class="username">@${user.username}</div>
            </div>
        `;
        item.onclick = () => navigateToProfile(user.id);
        searchResults.appendChild(item);
    });
}

// --- NAVƒ∞GASYON ---
const pages = document.querySelectorAll('.page');
const navItems = document.querySelectorAll('.nav-item');

function showPage(pageId) {
    pages.forEach(page => page.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    navItems.forEach(item => item.classList.remove('active'));
    if (pageId === 'homePage') {
        navHome.classList.add('active');
        brandTitle.textContent = 'Akƒ±≈ü';
    } else if (pageId === 'searchPage') {
        navSearch.classList.add('active');
        brandTitle.textContent = 'Arama';
    } else if (pageId === 'profilePage') {
        navSearch.classList.add('active');
    }
}

function navigateToProfile(userId) {
    renderProfile(userId);
    const user = USERS_DB.find(u => u.id === userId);
    brandTitle.textContent = user.username;
    showPage('profilePage');
}

navHome.onclick = () => showPage('homePage');
navSearch.onclick = () => showPage('searchPage');
navProfile.onclick = () => alert('Bu buton ≈üimdilik pasif. Arama √ºzerinden profillere ula≈üabilirsiniz.');

let searchTimer;
searchInput.oninput = () => {
    clearTimeout(searchTimer);
    searchTimer = setTimeout(() => {
        renderSearchResults(searchInput.value);
    }, 400);
};

// --- ƒ∞LK Y√úKLEME ---
document.addEventListener('DOMContentLoaded', () => {
    renderHomePage();
    showPage('homePage');
});
</script>
</body>
</html>
